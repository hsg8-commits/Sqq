# لوحة تحكم المشرف - Telegram Clone Admin Panel

لوحة تحكم إدارية شاملة لمشروع Telegram Clone مع جميع الصلاحيات والميزات المطلوبة.

## 🎯 المميزات الأساسية

### 👤 إدارة المستخدمين
- عرض جميع المستخدمين مع معلوماتهم الكاملة
- البحث والتصفية المتقدمة
- تعديل البيانات الشخصية للمستخدمين
- حظر/إلغاء حظر المستخدمين مع تسجيل الأسباب
- عرض إحصائيات المستخدم (الرسائل، الغرف، الملفات)
- تتبع النشاط والآخر ظهور

### 💬 إدارة المحادثات والرسائل
- عرض جميع المحادثات والرسائل
- البحث في المحادثات حسب المستخدم أو التاريخ
- حذف الرسائل المخالفة
- عرض الملفات المرفقة (صور، فيديو، صوت)
- إحصائيات الرسائل اليومية

### 🏢 إدارة الغرف والمجموعات
- عرض جميع الغرف (خاص، مجموعات، قنوات)
- تعديل معلومات الغرف
- إدارة المشاركين والمشرفين
- حذف الغرف المخالفة

### 📂 إدارة الملفات والوسائط
- عرض جميع الملفات المرفوعة
- تصنيف حسب النوع (صور، فيديو، مستندات)
- حذف الملفات المخالفة
- إحصائيات التخزين المستخدم
- تحميل الملفات للمراجعة

### 🚨 نظام البلاغات
- استقبال ومعالجة البلاغات
- تصنيف البلاغات حسب الأولوية
- اتخاذ إجراءات (تحذير، حذف المحتوى، حظر المستخدم)
- تتبع حالة البلاغات

### 📊 الإحصائيات والتحليلات
- عدد المستخدمين النشطين والمحظورين
- إحصائيات الرسائل اليومية والأسبوعية
- حجم التخزين المستخدم
- المستخدمين الأكثر نشاطاً
- رسوم بيانية تفاعلية

### 📢 نظام الإشعارات
- إرسال إشعارات جماعية
- استهداف فئات محددة من المستخدمين
- إشعارات الصيانة والتحديثات
- تحذيرات أمنية

### ⚙️ إعدادات النظام
- تخصيص شعار وألوان التطبيق
- إدارة حدود الملفات والرسائل
- تفعيل/إيقاف ميزات محددة
- وضع الصيانة
- نسخ احتياطية للبيانات

### 👥 إدارة المشرفين
- إضافة مشرفين جدد
- تحديد الصلاحيات لكل مشرف (عرض، تعديل، حذف)
- نظام أدوار متدرج (Super Admin, Moderator, Viewer)
- تتبع أنشطة المشرفين
- المصادقة الثنائية (2FA)

## 🛡️ الأمان والحماية

- **نظام مصادقة متقدم**: JWT + المصادقة الثنائية
- **صلاحيات متدرجة**: تحكم دقيق في الوصول للميزات
- **تسجيل الأنشطة**: تتبع جميع الإجراءات الإدارية
- **حماية من الهجمات**: Rate limiting وحماية من البروت فورس
- **تشفير البيانات**: جميع كلمات المرور مشفرة بـ bcrypt

## 🚀 التثبيت والإعداد

### 1. تثبيت المتطلبات

```bash
cd admin-panel
npm install
```

### 2. إعداد متغيرات البيئة

```bash
cp .env.example .env
```

قم بتعديل ملف `.env` وإضافة:

```env
MONGODB_URI=mongodb://localhost:27017/telegram_clone
JWT_SECRET=your_super_secret_jwt_key
ADMIN_DEFAULT_PASSWORD=admin123456
SUPER_ADMIN_EMAIL=admin@telegram.com
NEXT_PUBLIC_API_URL=http://localhost:3002
SOCKET_SERVER_URL=http://localhost:3001
```

### 3. تهيئة قاعدة البيانات وإنشاء المشرف الأول

```bash
node scripts/init-admin.js
```

سيتم إنشاء:
- حساب Super Admin (المشرف العام)
- حساب Moderator (مشرف عادي)  
- إعدادات النظام الافتراضية
- فهارس قاعدة البيانات للأداء

### 4. تشغيل التطبيق

```bash
npm run dev
```

سيعمل التطبيق على: `http://localhost:3002`

## 🔑 بيانات الدخول الافتراضية

### المشرف العام (Super Admin)
- **اسم المستخدم**: `superadmin`
- **كلمة المرور**: `admin123456`
- **الصلاحيات**: كاملة

### المشرف العادي (Moderator)
- **اسم المستخدم**: `moderator`  
- **كلمة المرور**: `moderator123456`
- **الصلاحيات**: محدودة

⚠️ **تحذير أمني**: قم بتغيير كلمات المرور فور تسجيل الدخول الأول!

## 📱 واجهة المستخدم

### الصفحة الرئيسية
- ملخص الإحصائيات المهمة
- رسوم بيانية للنشاط
- البلاغات الأخيرة
- سجل الأنشطة

### إدارة المستخدمين
- جدول تفاعلي مع البحث والتصفية
- عرض تفاصيل كل مستخدم
- إجراءات سريعة (حظر، تحرير، حذف)

### إدارة المحتوى
- عرض الرسائل والملفات
- أدوات المراجعة والحذف
- إحصائيات المحتوى

## 🔧 التخصيص والتطوير

### إضافة مشرف جديد

```bash
# من خلال واجهة المستخدم أو برمجياً
const newAdmin = await Admin.create({
  username: 'new_admin',
  email: 'admin@example.com',
  password: hashedPassword,
  role: 'moderator',
  permissions: getRolePermissions('moderator')
});
```

### تخصيص الصلاحيات

```javascript
const customPermissions = {
  users: { view: true, edit: true, delete: false },
  messages: { view: true, delete: true },
  reports: { view: true, manage: true },
  // ... المزيد
};
```

### إضافة إعدادات نظام جديدة

```javascript
await SystemSettings.create({
  key: 'new_setting',
  value: 'default_value',
  category: 'general',
  description: 'وصف الإعداد',
  dataType: 'string'
});
```

## 📊 قاعدة البيانات

### المجموعات (Collections)

- `admins`: حسابات المشرفين
- `adminlogs`: سجل أنشطة المشرفين  
- `reports`: البلاغات
- `systemsettings`: إعدادات النظام
- `users`: المستخدمين (من المشروع الأصلي)
- `messages`: الرسائل (من المشروع الأصلي)
- `rooms`: الغرف (من المشروع الأصلي)
- `media`: الملفات (من المشروع الأصلي)

## 🔄 التكامل مع المشروع الأصلي

لوحة التحكم تتصل مباشرة بنفس قاعدة بيانات MongoDB المستخدمة في المشروع الأصلي، مما يعني:

- **عرض البيانات الفعلية**: جميع المستخدمين والرسائل الحقيقية
- **تحديث فوري**: التغييرات تظهر فوراً في التطبيق
- **مزامنة كاملة**: لا حاجة لاستيراد أو تصدير البيانات

## 🛠️ الصيانة والنسخ الاحتياطية

### إنشاء نسخة احتياطية

```bash
# نسخة احتياطية لقاعدة البيانات
mongodump --db telegram_clone --out ./backup/$(date +%Y%m%d_%H%M%S)
```

### مراقبة الأداء

- تتبع استخدام الذاكرة والمعالج
- مراقبة أوقات الاستجابة
- إحصائيات قاعدة البيانات

## 📞 الدعم والمساعدة

في حالة وجود مشاكل أو استفسارات:

1. تحقق من logs التطبيق
2. راجع إعدادات قاعدة البيانات
3. تأكد من صحة متغيرات البيئة
4. اتصل بفريق الدعم الفني

## 📝 ملاحظات مهمة

- **الأداء**: تم تحسين الاستعلامات لقواعد البيانات الكبيرة
- **الأمان**: جميع العمليات مسجلة ومراقبة
- **التوافق**: يعمل مع MongoDB 4.0+ و Node.js 16+
- **اللغة**: واجهة باللغة العربية مع دعم RTL كامل

---

**© 2024 Telegram Clone Admin Panel**  
**تم التطوير خصيصاً لمشروع Telegram Clone**